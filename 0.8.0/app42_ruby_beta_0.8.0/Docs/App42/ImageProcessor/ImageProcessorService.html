<!DOCTYPE html>

<html>
<head>
<meta content="text/html; charset=IBM437" http-equiv="Content-Type">

<title>class App42::ImageProcessor::ImageProcessorService - RDoc Documentation</title>

<link type="text/css" media="screen" href="../../rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "../../";
</script>

<script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/navigation.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/search_index.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/search.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/searcher.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/darkfish.js"></script>


<body id="top" class="class">
<nav id="metadata">
  <nav id="home-section" class="section">
  <h3 class="section-header">
    <a href="../../index.html">Home</a>
    <a href="../../table_of_contents.html#classes">Classes</a>
    <a href="../../table_of_contents.html#methods">Methods</a>
  </h3>
</nav>


  <nav id="search-section" class="section project-section" class="initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <h3 class="section-header">
      <input type="text" name="search" placeholder="Search" id="search-field"
             title="Type to search, Up and Down to navigate, Enter to load">
    </h3>
  </form>

  <ul id="search-results" class="initially-hidden"></ul>
</nav>


  <div id="file-metadata">
    <nav id="file-list-section" class="section">
  <h3 class="section-header">Defined In</h3>
  <ul>
    <li>com/shephertz/app42/paas/sdk/ruby/imageProcessor/ImageProcessorService.rb
  </ul>
</nav>

    
  </div>

  <div id="class-metadata">
    
    <nav id="parent-class-section" class="section">
  <h3 class="section-header">Parent</h3>
  
  <p class="link">Object
  
</nav>

    
    <!-- Method Quickref -->
<nav id="method-list-section" class="section">
  <h3 class="section-header">Methods</h3>

  <ul class="link-list">
    
    <li><a href="#method-c-new">::new</a>
    
    <li><a href="#method-i-crop">#crop</a>
    
    <li><a href="#method-i-crop_stream">#crop_stream</a>
    
    <li><a href="#method-i-resize">#resize</a>
    
    <li><a href="#method-i-resize_by_percentage">#resize_by_percentage</a>
    
    <li><a href="#method-i-resize_by_percentage_by_stream">#resize_by_percentage_by_stream</a>
    
    <li><a href="#method-i-resize_stream">#resize_stream</a>
    
    <li><a href="#method-i-scale">#scale</a>
    
    <li><a href="#method-i-scale_by_percentage">#scale_by_percentage</a>
    
    <li><a href="#method-i-scale_by_percentage_stream">#scale_by_percentage_stream</a>
    
    <li><a href="#method-i-scale_stream">#scale_stream</a>
    
    <li><a href="#method-i-thumbnail">#thumbnail</a>
    
    <li><a href="#method-i-thumbnail_by_percentage">#thumbnail_by_percentage</a>
    
    <li><a href="#method-i-thumbnail_by_percentage_stream">#thumbnail_by_percentage_stream</a>
    
    <li><a href="#method-i-thumbnail_stream">#thumbnail_stream</a>
    
  </ul>
</nav>

  </div>

  <div id="project-metadata">
    
    <nav id="classindex-section" class="section project-section">
  <h3 class="section-header">Class and Module Index</h3>

  <ul class="link-list">
  
    <li><a href="../../App42.html">App42</a>
  
    <li><a href="../../App42/Connection.html">App42::Connection</a>
  
    <li><a href="../../App42/Connection/RESTConnection.html">App42::Connection::RESTConnection</a>
  
    <li><a href="../../App42/Email.html">App42::Email</a>
  
    <li><a href="../../App42/Email/Configuration.html">App42::Email::Configuration</a>
  
    <li><a href="../../App42/Email/Email.html">App42::Email::Email</a>
  
    <li><a href="../../App42/Email/EmailMIME.html">App42::Email::EmailMIME</a>
  
    <li><a href="../../App42/Email/EmailResponseBuilder.html">App42::Email::EmailResponseBuilder</a>
  
    <li><a href="../../App42/Email/EmailService.html">App42::Email::EmailService</a>
  
    <li><a href="../../App42/Gallery.html">App42::Gallery</a>
  
    <li><a href="../../App42/Gallery/Album.html">App42::Gallery::Album</a>
  
    <li><a href="../../App42/Gallery/AlbumResponseBuilder.html">App42::Gallery::AlbumResponseBuilder</a>
  
    <li><a href="../../App42/Gallery/AlbumService.html">App42::Gallery::AlbumService</a>
  
    <li><a href="../../App42/Gallery/Photo.html">App42::Gallery::Photo</a>
  
    <li><a href="../../App42/Gallery/PhotoService.html">App42::Gallery::PhotoService</a>
  
    <li><a href="../../App42/Game.html">App42::Game</a>
  
    <li><a href="../../App42/Game/Game.html">App42::Game::Game</a>
  
    <li><a href="../../App42/Game/GameResponseBuilder.html">App42::Game::GameResponseBuilder</a>
  
    <li><a href="../../App42/Game/GameService.html">App42::Game::GameService</a>
  
    <li><a href="../../App42/Game/Reward.html">App42::Game::Reward</a>
  
    <li><a href="../../App42/Game/RewardResponseBuilder.html">App42::Game::RewardResponseBuilder</a>
  
    <li><a href="../../App42/Game/RewardService.html">App42::Game::RewardService</a>
  
    <li><a href="../../App42/Game/Score.html">App42::Game::Score</a>
  
    <li><a href="../../App42/Game/ScoreBoardService.html">App42::Game::ScoreBoardService</a>
  
    <li><a href="../../App42/Game/ScoreService.html">App42::Game::ScoreService</a>
  
    <li><a href="../../App42/Geo.html">App42::Geo</a>
  
    <li><a href="../../App42/Geo/Geo.html">App42::Geo::Geo</a>
  
    <li><a href="../../App42/Geo/GeoPoint.html">App42::Geo::GeoPoint</a>
  
    <li><a href="../../App42/Geo/GeoResponseBuilder.html">App42::Geo::GeoResponseBuilder</a>
  
    <li><a href="../../App42/Geo/GeoService.html">App42::Geo::GeoService</a>
  
    <li><a href="../../App42/Geo/Point.html">App42::Geo::Point</a>
  
    <li><a href="../../App42/ImageProcessor.html">App42::ImageProcessor</a>
  
    <li><a href="../../App42/ImageProcessor/Image.html">App42::ImageProcessor::Image</a>
  
    <li><a href="../../App42/ImageProcessor/ImageProcessorResponseBuilder.html">App42::ImageProcessor::ImageProcessorResponseBuilder</a>
  
    <li><a href="../../App42/ImageProcessor/ImageProcessorService.html">App42::ImageProcessor::ImageProcessorService</a>
  
    <li><a href="../../App42/Log.html">App42::Log</a>
  
    <li><a href="../../App42/Log/Log.html">App42::Log::Log</a>
  
    <li><a href="../../App42/Log/LogResponseBuilder.html">App42::Log::LogResponseBuilder</a>
  
    <li><a href="../../App42/Log/LogService.html">App42::Log::LogService</a>
  
    <li><a href="../../App42/Log/Message.html">App42::Log::Message</a>
  
    <li><a href="../../App42/Message.html">App42::Message</a>
  
    <li><a href="../../App42/Message/Message.html">App42::Message::Message</a>
  
    <li><a href="../../App42/Message/Queue.html">App42::Message::Queue</a>
  
    <li><a href="../../App42/Message/QueueResponseBuilder.html">App42::Message::QueueResponseBuilder</a>
  
    <li><a href="../../App42/Message/QueueService.html">App42::Message::QueueService</a>
  
    <li><a href="../../App42/Recommend.html">App42::Recommend</a>
  
    <li><a href="../../App42/Recommend/PreferenceData.html">App42::Recommend::PreferenceData</a>
  
    <li><a href="../../App42/Recommend/RecommendedItem.html">App42::Recommend::RecommendedItem</a>
  
    <li><a href="../../App42/Recommend/Recommender.html">App42::Recommend::Recommender</a>
  
    <li><a href="../../App42/Recommend/RecommenderResponseBuilder.html">App42::Recommend::RecommenderResponseBuilder</a>
  
    <li><a href="../../App42/Recommend/RecommenderService.html">App42::Recommend::RecommenderService</a>
  
    <li><a href="../../App42/Recommend/RecommenderSimilarity.html">App42::Recommend::RecommenderSimilarity</a>
  
    <li><a href="../../App42/Review.html">App42::Review</a>
  
    <li><a href="../../App42/Review/Review.html">App42::Review::Review</a>
  
    <li><a href="../../App42/Review/ReviewResponseBuilder.html">App42::Review::ReviewResponseBuilder</a>
  
    <li><a href="../../App42/Review/ReviewService.html">App42::Review::ReviewService</a>
  
    <li><a href="../../App42/ServiceAPI.html">App42::ServiceAPI</a>
  
    <li><a href="../../App42/Session.html">App42::Session</a>
  
    <li><a href="../../App42/Session/Attribute.html">App42::Session::Attribute</a>
  
    <li><a href="../../App42/Session/Session.html">App42::Session::Session</a>
  
    <li><a href="../../App42/Session/SessionResponseBuilder.html">App42::Session::SessionResponseBuilder</a>
  
    <li><a href="../../App42/Session/SessionService.html">App42::Session::SessionService</a>
  
    <li><a href="../../App42/Shopping.html">App42::Shopping</a>
  
    <li><a href="../../App42/Shopping/Cart.html">App42::Shopping::Cart</a>
  
    <li><a href="../../App42/Shopping/CartResponseBuilder.html">App42::Shopping::CartResponseBuilder</a>
  
    <li><a href="../../App42/Shopping/CartService.html">App42::Shopping::CartService</a>
  
    <li><a href="../../App42/Shopping/Catalogue.html">App42::Shopping::Catalogue</a>
  
    <li><a href="../../App42/Shopping/CatalogueResponseBuilder.html">App42::Shopping::CatalogueResponseBuilder</a>
  
    <li><a href="../../App42/Shopping/CatalogueService.html">App42::Shopping::CatalogueService</a>
  
    <li><a href="../../App42/Shopping/Category.html">App42::Shopping::Category</a>
  
    <li><a href="../../App42/Shopping/Item.html">App42::Shopping::Item</a>
  
    <li><a href="../../App42/Shopping/ItemData.html">App42::Shopping::ItemData</a>
  
    <li><a href="../../App42/Shopping/Payment.html">App42::Shopping::Payment</a>
  
    <li><a href="../../App42/Shopping/PaymentStatus.html">App42::Shopping::PaymentStatus</a>
  
    <li><a href="../../App42/Social.html">App42::Social</a>
  
    <li><a href="../../App42/Social/Social.html">App42::Social::Social</a>
  
    <li><a href="../../App42/Social/SocialResponseBuilder.html">App42::Social::SocialResponseBuilder</a>
  
    <li><a href="../../App42/Social/SocialService.html">App42::Social::SocialService</a>
  
    <li><a href="../../App42/Storage.html">App42::Storage</a>
  
    <li><a href="../../App42/Storage/JSONDocument.html">App42::Storage::JSONDocument</a>
  
    <li><a href="../../App42/Storage/Storage.html">App42::Storage::Storage</a>
  
    <li><a href="../../App42/Storage/StorageResponseBuilder.html">App42::Storage::StorageResponseBuilder</a>
  
    <li><a href="../../App42/Storage/StorageService.html">App42::Storage::StorageService</a>
  
    <li><a href="../../App42/Upload.html">App42::Upload</a>
  
    <li><a href="../../App42/Upload/File.html">App42::Upload::File</a>
  
    <li><a href="../../App42/Upload/Upload.html">App42::Upload::Upload</a>
  
    <li><a href="../../App42/Upload/UploadFileType.html">App42::Upload::UploadFileType</a>
  
    <li><a href="../../App42/Upload/UploadResponseBuilder.html">App42::Upload::UploadResponseBuilder</a>
  
    <li><a href="../../App42/Upload/UploadService.html">App42::Upload::UploadService</a>
  
    <li><a href="../../App42/User.html">App42::User</a>
  
    <li><a href="../../App42/User/Profile.html">App42::User::Profile</a>
  
    <li><a href="../../App42/User/User.html">App42::User::User</a>
  
    <li><a href="../../App42/User/User/UserGender.html">App42::User::User::UserGender</a>
  
    <li><a href="../../App42/User/UserResponseBuilder.html">App42::User::UserResponseBuilder</a>
  
    <li><a href="../../App42/User/UserService.html">App42::User::UserService</a>
  
    <li><a href="../../App42/Util.html">App42::Util</a>
  
    <li><a href="../../App42BadParameterException.html">App42BadParameterException</a>
  
    <li><a href="../../App42Exception.html">App42Exception</a>
  
    <li><a href="../../App42LimitException.html">App42LimitException</a>
  
    <li><a href="../../App42NotFoundException.html">App42NotFoundException</a>
  
    <li><a href="../../App42Response.html">App42Response</a>
  
    <li><a href="../../App42ResponseBuilder.html">App42ResponseBuilder</a>
  
    <li><a href="../../App42SecurityException.html">App42SecurityException</a>
  
  </ul>
</nav>

  </div>
</nav>

<div id="documentation">
  <h1 class="class">class App42::ImageProcessor::ImageProcessorService</h1>

  <div id="description" class="description">
    
<p>The <a href="../ImageProcessor.html">ImageProcessor</a> service is a <a
href="Image.html">Image</a> utility service on the Cloud. Developers can
upload files on the cloud and perform various <a
href="Image.html">Image</a> Manipulation operations on the Uploaded Images
e.g. resize, scale, thumbnail, crop etc. It is especially useful for Mobile
Apps when they dont want to store Images locally and dont want to perform
processor intensive operations. It is also useful for web applications who
want to perform complex <a href="Image.html">Image</a> Operations @see <a
href="Image.html">Image</a></p>

  </div><!-- description -->

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    

    <!-- Methods -->
    
     <section id="public-class-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Class Methods</h3>

    
      <div id="method-c-new" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">new</span><span
            class="method-args">(api_key, secret_key, base_url)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          
          

          
          <div class="method-source-code" id="new-source">
            <pre><span class="ruby-comment"># File com/shephertz/app42/paas/sdk/ruby/imageProcessor/ImageProcessorService.rb, line 23</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">api_key</span>, <span class="ruby-identifier">secret_key</span>, <span class="ruby-identifier">base_url</span>)
  <span class="ruby-identifier">puts</span> <span class="ruby-string">&quot;Session Service-&gt;initialize&quot;</span>
  <span class="ruby-ivar">@api_key</span> = <span class="ruby-identifier">api_key</span>
  <span class="ruby-ivar">@secret_key</span> = <span class="ruby-identifier">secret_key</span>
  <span class="ruby-ivar">@base_url</span> = <span class="ruby-identifier">base_url</span>
  <span class="ruby-ivar">@resource</span> = <span class="ruby-string">&quot;image&quot;</span>
  <span class="ruby-ivar">@version</span> = <span class="ruby-string">&quot;1.0&quot;</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- new-source -->
          
        </div>

        

        
      </div><!-- new-method -->

    
    </section><!-- public-class-method-details -->
  
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Instance Methods</h3>

    
      <div id="method-i-crop" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">crop</span><span
            class="method-args">(name, imagePath, width, height, x, y)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Crops image based on width, height and x, y coordinates. Returns the
original image url and converted image url. Images are stored in the cloud
and can be accessed through the urls Resizing is done based on the width
and height provided @params name Name of the image to crop @params
imagePath Path of the local file to crop @params width Width of the image
to crop @params height Height of the image to crop @params x Coordinate X
@params y Coordinate Y @returns <a href="Image.html">Image</a> object
containing urls for the original and converted images @raise <a
href="../../App42Exception.html">App42Exception</a></p>
          

          
          <div class="method-source-code" id="crop-source">
            <pre><span class="ruby-comment"># File com/shephertz/app42/paas/sdk/ruby/imageProcessor/ImageProcessorService.rb, line 372</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">crop</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">imagePath</span>, <span class="ruby-identifier">width</span>, <span class="ruby-identifier">height</span>, <span class="ruby-identifier">x</span>, <span class="ruby-identifier">y</span>)
  <span class="ruby-identifier">puts</span> <span class="ruby-string">&quot;crop Called &quot;</span>
  <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Base url #{@base_url}&quot;</span>
  <span class="ruby-identifier">response</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">imageObj</span> = <span class="ruby-constant">Image</span>.<span class="ruby-identifier">new</span>()
  <span class="ruby-identifier">imageObj</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">util</span> = <span class="ruby-constant">Util</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">util</span>.<span class="ruby-identifier">throwExceptionIfNullOrBlank</span>(<span class="ruby-identifier">name</span>, <span class="ruby-string">&quot;Name&quot;</span>);
  <span class="ruby-identifier">util</span>.<span class="ruby-identifier">throwExceptionIfNullOrBlank</span>(<span class="ruby-identifier">imagePath</span>, <span class="ruby-string">&quot;Image Path&quot;</span>);
  <span class="ruby-identifier">util</span>.<span class="ruby-identifier">throwExceptionIfNullOrBlank</span>(<span class="ruby-identifier">width</span>, <span class="ruby-string">&quot;Width&quot;</span>);
  <span class="ruby-identifier">util</span>.<span class="ruby-identifier">throwExceptionIfNullOrBlank</span>(<span class="ruby-identifier">height</span>, <span class="ruby-string">&quot;Height&quot;</span>);
  <span class="ruby-identifier">util</span>.<span class="ruby-identifier">throwExceptionIfNullOrBlank</span>(<span class="ruby-identifier">x</span>, <span class="ruby-string">&quot;x&quot;</span>);
  <span class="ruby-identifier">util</span>.<span class="ruby-identifier">throwExceptionIfNullOrBlank</span>(<span class="ruby-identifier">y</span>, <span class="ruby-string">&quot;y&quot;</span>);
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">file</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">imagePath</span>,<span class="ruby-string">&quot;rb&quot;</span>)
    <span class="ruby-identifier">ext</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">extname</span>(<span class="ruby-identifier">file</span>)
    <span class="ruby-keyword">if</span>((<span class="ruby-identifier">ext</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;.jpg&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>) <span class="ruby-operator">&amp;&amp;</span>  (<span class="ruby-identifier">ext</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;.jpeg&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>) <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">ext</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;.gif&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>) <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">ext</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;.png&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>))
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">TypeError</span>,<span class="ruby-string">&quot;The Request parameters are invalid. Only file with extensions jpg, jpeg, gif and png are supported&quot;</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">file?</span>(<span class="ruby-identifier">imagePath</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">App42Exception</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot; File &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">imagePath</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot; does not exist&quot;</span>);
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">connection</span> = <span class="ruby-constant">App42</span><span class="ruby-operator">::</span><span class="ruby-constant">Connection</span><span class="ruby-operator">::</span><span class="ruby-constant">RESTConnection</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@base_url</span>)
    <span class="ruby-identifier">query_params</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-identifier">params</span> = {
      <span class="ruby-string">'apiKey'</span>=<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@api_key</span>,
      <span class="ruby-string">'version'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@version</span>,
      <span class="ruby-string">'timeStamp'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">util</span>.<span class="ruby-identifier">get_timestamp_utc</span>,
    }
    <span class="ruby-identifier">query_params</span> = <span class="ruby-identifier">params</span>.<span class="ruby-identifier">clone</span>
    <span class="ruby-identifier">params</span>.<span class="ruby-identifier">store</span>(<span class="ruby-string">&quot;name&quot;</span>, <span class="ruby-identifier">name</span>)
    <span class="ruby-identifier">params</span>.<span class="ruby-identifier">store</span>(<span class="ruby-string">&quot;width&quot;</span>, (<span class="ruby-identifier">width</span>.<span class="ruby-identifier">to_i</span>).<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;&quot;</span>)
    <span class="ruby-identifier">params</span>.<span class="ruby-identifier">store</span>(<span class="ruby-string">&quot;height&quot;</span>, (<span class="ruby-identifier">height</span>.<span class="ruby-identifier">to_i</span>).<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;&quot;</span>)
    <span class="ruby-identifier">params</span>.<span class="ruby-identifier">store</span>(<span class="ruby-string">&quot;x&quot;</span>, (<span class="ruby-identifier">x</span>.<span class="ruby-identifier">to_i</span>).<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;&quot;</span>)
    <span class="ruby-identifier">params</span>.<span class="ruby-identifier">store</span>(<span class="ruby-string">&quot;y&quot;</span>, (<span class="ruby-identifier">y</span>.<span class="ruby-identifier">to_i</span>).<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;&quot;</span>)
    <span class="ruby-identifier">signature</span> = <span class="ruby-identifier">util</span>.<span class="ruby-identifier">sign</span>(<span class="ruby-ivar">@secret_key</span>, <span class="ruby-identifier">params</span>)
    <span class="ruby-identifier">resource_url</span> = <span class="ruby-node">&quot;#{@version}/#{@resource}/crop&quot;</span>
    <span class="ruby-identifier">response</span> = <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">imageMultipart</span>(<span class="ruby-identifier">signature</span>, <span class="ruby-identifier">resource_url</span>, <span class="ruby-identifier">query_params</span>, <span class="ruby-identifier">params</span>, <span class="ruby-identifier">imagePath</span>)
    <span class="ruby-identifier">image</span> = <span class="ruby-constant">ImageProcessorResponseBuilder</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-identifier">imageObj</span> = <span class="ruby-identifier">image</span>.<span class="ruby-identifier">buildResponse</span>(<span class="ruby-identifier">response</span>)
  <span class="ruby-keyword">rescue</span>  <span class="ruby-constant">App42Exception</span> =<span class="ruby-operator">&gt;</span><span class="ruby-identifier">e</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-identifier">e</span>
  <span class="ruby-keyword">rescue</span>  <span class="ruby-constant">Exception</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">App42Exception</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">e</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">imageObj</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- crop-source -->
          
        </div>

        

        
      </div><!-- crop-method -->

    
      <div id="method-i-crop_stream" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">crop_stream</span><span
            class="method-args">(name, imagePath, width, height, x, y)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Crops image based on width, height and x, y coordinates. Returns the
original image url and converted image url. Images are stored in the cloud
and can be accessed through the urls Resizing is done based on the width
and height provided @param name Name of the image to crop @param
inputStream InputStream of the local file to crop @param width Width of the
image to crop @param height Height of the image to crop @param x Coordinate
X @param y Coordinate Y @returns <a href="Image.html">Image</a> object
containing urls for the original and converted images @throws <a
href="../../App42Exception.html">App42Exception</a></p>
          

          
          <div class="method-source-code" id="crop_stream-source">
            <pre><span class="ruby-comment"># File com/shephertz/app42/paas/sdk/ruby/imageProcessor/ImageProcessorService.rb, line 432</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">crop_stream</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">imagePath</span>, <span class="ruby-identifier">width</span>, <span class="ruby-identifier">height</span>, <span class="ruby-identifier">x</span>, <span class="ruby-identifier">y</span>)
  <span class="ruby-identifier">puts</span> <span class="ruby-string">&quot;crop Called &quot;</span>
  <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Base url #{@base_url}&quot;</span>
  <span class="ruby-identifier">response</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">imageObj</span> = <span class="ruby-constant">Image</span>.<span class="ruby-identifier">new</span>()
  <span class="ruby-identifier">imageObj</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">util</span> = <span class="ruby-constant">Util</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">util</span>.<span class="ruby-identifier">throwExceptionIfNullOrBlank</span>(<span class="ruby-identifier">name</span>, <span class="ruby-string">&quot;Name&quot;</span>);
  <span class="ruby-identifier">util</span>.<span class="ruby-identifier">throwExceptionIfNotValidImageExtension</span>(<span class="ruby-identifier">name</span>, <span class="ruby-string">&quot;Name&quot;</span>);
  <span class="ruby-identifier">util</span>.<span class="ruby-identifier">throwExceptionIfNullOrBlank</span>(<span class="ruby-identifier">width</span>, <span class="ruby-string">&quot;Width&quot;</span>);
  <span class="ruby-identifier">util</span>.<span class="ruby-identifier">throwExceptionIfNullOrBlank</span>(<span class="ruby-identifier">height</span>, <span class="ruby-string">&quot;Height&quot;</span>);
  <span class="ruby-identifier">util</span>.<span class="ruby-identifier">throwExceptionIfNullOrBlank</span>(<span class="ruby-identifier">x</span>, <span class="ruby-string">&quot;x&quot;</span>);
  <span class="ruby-identifier">util</span>.<span class="ruby-identifier">throwExceptionIfNullOrBlank</span>(<span class="ruby-identifier">y</span>, <span class="ruby-string">&quot;y&quot;</span>);
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">file</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">imagePath</span>,<span class="ruby-string">&quot;rb&quot;</span>)
    <span class="ruby-identifier">ext</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">extname</span>(<span class="ruby-identifier">file</span>)
    <span class="ruby-keyword">if</span>((<span class="ruby-identifier">ext</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;.jpg&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>) <span class="ruby-operator">&amp;&amp;</span>  (<span class="ruby-identifier">ext</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;.jpeg&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>) <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">ext</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;.gif&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>) <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">ext</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;.png&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>))
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">TypeError</span>,<span class="ruby-string">&quot;The Request parameters are invalid. Only file with extensions jpg, jpeg, gif and png are supported&quot;</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">file?</span>(<span class="ruby-identifier">imagePath</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">App42Exception</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot; File &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">imagePath</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot; does not exist&quot;</span>);
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">connection</span> = <span class="ruby-constant">App42</span><span class="ruby-operator">::</span><span class="ruby-constant">Connection</span><span class="ruby-operator">::</span><span class="ruby-constant">RESTConnection</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@base_url</span>)
    <span class="ruby-identifier">query_params</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-identifier">params</span> = {
      <span class="ruby-string">'apiKey'</span>=<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@api_key</span>,
      <span class="ruby-string">'version'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@version</span>,
      <span class="ruby-string">'timeStamp'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">util</span>.<span class="ruby-identifier">get_timestamp_utc</span>,
    }
    <span class="ruby-identifier">query_params</span> = <span class="ruby-identifier">params</span>.<span class="ruby-identifier">clone</span>
    <span class="ruby-identifier">params</span>.<span class="ruby-identifier">store</span>(<span class="ruby-string">&quot;name&quot;</span>, <span class="ruby-identifier">name</span>)
    <span class="ruby-identifier">params</span>.<span class="ruby-identifier">store</span>(<span class="ruby-string">&quot;width&quot;</span>, (<span class="ruby-identifier">width</span>.<span class="ruby-identifier">to_i</span>).<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;&quot;</span>)
    <span class="ruby-identifier">params</span>.<span class="ruby-identifier">store</span>(<span class="ruby-string">&quot;height&quot;</span>, (<span class="ruby-identifier">height</span>.<span class="ruby-identifier">to_i</span>).<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;&quot;</span>)
    <span class="ruby-identifier">params</span>.<span class="ruby-identifier">store</span>(<span class="ruby-string">&quot;x&quot;</span>, (<span class="ruby-identifier">x</span>.<span class="ruby-identifier">to_i</span>).<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;&quot;</span>)
    <span class="ruby-identifier">params</span>.<span class="ruby-identifier">store</span>(<span class="ruby-string">&quot;y&quot;</span>, (<span class="ruby-identifier">y</span>.<span class="ruby-identifier">to_i</span>).<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;&quot;</span>)
    <span class="ruby-identifier">signature</span> = <span class="ruby-identifier">util</span>.<span class="ruby-identifier">sign</span>(<span class="ruby-ivar">@secret_key</span>, <span class="ruby-identifier">params</span>)
    <span class="ruby-identifier">resource_url</span> = <span class="ruby-node">&quot;#{@version}/#{@resource}/crop&quot;</span>
    <span class="ruby-identifier">response</span> = <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">imageMultipartStream</span>(<span class="ruby-identifier">signature</span>, <span class="ruby-identifier">resource_url</span>, <span class="ruby-identifier">query_params</span>, <span class="ruby-identifier">params</span>, <span class="ruby-identifier">imagePath</span>)
    <span class="ruby-identifier">image</span> = <span class="ruby-constant">ImageProcessorResponseBuilder</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-identifier">imageObj</span> = <span class="ruby-identifier">image</span>.<span class="ruby-identifier">buildResponse</span>(<span class="ruby-identifier">response</span>)
  <span class="ruby-keyword">rescue</span>  <span class="ruby-constant">App42Exception</span> =<span class="ruby-operator">&gt;</span><span class="ruby-identifier">e</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-identifier">e</span>
  <span class="ruby-keyword">rescue</span>  <span class="ruby-constant">Exception</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">App42Exception</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">e</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">imageObj</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- crop_stream-source -->
          
        </div>

        

        
      </div><!-- crop_stream-method -->

    
      <div id="method-i-resize" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">resize</span><span
            class="method-args">(name, imagePath, width, height)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Resize image. Returns the original image url and converted image url.
Images are stored on the cloud and can be accessed through the urls
Resizing is done based on the width and height provided @params name Name
of the image to resize @params imagePath Path of the local file to resize
@params width Width of the image to resize @params height Height of the
image to resize @returns <a href="Image.html">Image</a> object containing
urls for the original and converted images @raise <a
href="../../App42Exception.html">App42Exception</a></p>
          

          
          <div class="method-source-code" id="resize-source">
            <pre><span class="ruby-comment"># File com/shephertz/app42/paas/sdk/ruby/imageProcessor/ImageProcessorService.rb, line 42</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">resize</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">imagePath</span>, <span class="ruby-identifier">width</span>, <span class="ruby-identifier">height</span>)
  <span class="ruby-identifier">puts</span> <span class="ruby-string">&quot;resize Called &quot;</span>
  <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Base url #{@base_url}&quot;</span>
  <span class="ruby-identifier">response</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">imageObj</span> = <span class="ruby-constant">Image</span>.<span class="ruby-identifier">new</span>()
  <span class="ruby-identifier">imageObj</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">util</span> = <span class="ruby-constant">Util</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">util</span>.<span class="ruby-identifier">throwExceptionIfNullOrBlank</span>(<span class="ruby-identifier">name</span>, <span class="ruby-string">&quot;Name&quot;</span>);
  <span class="ruby-identifier">util</span>.<span class="ruby-identifier">throwExceptionIfNullOrBlank</span>(<span class="ruby-identifier">imagePath</span>, <span class="ruby-string">&quot;Image Path&quot;</span>);
  <span class="ruby-identifier">util</span>.<span class="ruby-identifier">throwExceptionIfNullOrBlank</span>(<span class="ruby-identifier">width</span>, <span class="ruby-string">&quot;Width&quot;</span>);
  <span class="ruby-identifier">util</span>.<span class="ruby-identifier">throwExceptionIfNullOrBlank</span>(<span class="ruby-identifier">height</span>, <span class="ruby-string">&quot;Height&quot;</span>);
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">file</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">imagePath</span>,<span class="ruby-string">&quot;rb&quot;</span>)
    <span class="ruby-identifier">ext</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">extname</span>(<span class="ruby-identifier">file</span>)
    <span class="ruby-keyword">if</span>((<span class="ruby-identifier">ext</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;.jpg&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>) <span class="ruby-operator">&amp;&amp;</span>  (<span class="ruby-identifier">ext</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;.jpeg&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>) <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">ext</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;.gif&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>) <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">ext</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;.png&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>))
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">TypeError</span>,<span class="ruby-string">&quot;The Request parameters are invalid. Only file with extensions jpg, jpeg, gif and png are supported&quot;</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">file?</span>(<span class="ruby-identifier">imagePath</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">App42Exception</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot; File &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">imagePath</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot; does not exist&quot;</span>);
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">connection</span> = <span class="ruby-constant">App42</span><span class="ruby-operator">::</span><span class="ruby-constant">Connection</span><span class="ruby-operator">::</span><span class="ruby-constant">RESTConnection</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@base_url</span>)
    <span class="ruby-identifier">query_params</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-identifier">params</span> = {
      <span class="ruby-string">'apiKey'</span>=<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@api_key</span>,
      <span class="ruby-string">'version'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@version</span>,
      <span class="ruby-string">'timeStamp'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">util</span>.<span class="ruby-identifier">get_timestamp_utc</span>,
    }
    <span class="ruby-identifier">query_params</span> = <span class="ruby-identifier">params</span>.<span class="ruby-identifier">clone</span>
    <span class="ruby-identifier">params</span>.<span class="ruby-identifier">store</span>(<span class="ruby-string">&quot;name&quot;</span>, <span class="ruby-identifier">name</span>)
    <span class="ruby-identifier">params</span>.<span class="ruby-identifier">store</span>(<span class="ruby-string">&quot;width&quot;</span>, <span class="ruby-identifier">width</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;&quot;</span>)
    <span class="ruby-identifier">params</span>.<span class="ruby-identifier">store</span>(<span class="ruby-string">&quot;height&quot;</span>, <span class="ruby-identifier">height</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;&quot;</span>)
    <span class="ruby-identifier">signature</span> = <span class="ruby-identifier">util</span>.<span class="ruby-identifier">sign</span>(<span class="ruby-ivar">@secret_key</span>, <span class="ruby-identifier">params</span>)
    <span class="ruby-identifier">resource_url</span> = <span class="ruby-node">&quot;#{@version}/#{@resource}/resize&quot;</span>
    <span class="ruby-identifier">response</span> = <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">imageMultipart</span>(<span class="ruby-identifier">signature</span>, <span class="ruby-identifier">resource_url</span>, <span class="ruby-identifier">query_params</span>, <span class="ruby-identifier">params</span>, <span class="ruby-identifier">imagePath</span>)
    <span class="ruby-identifier">image</span> = <span class="ruby-constant">ImageProcessorResponseBuilder</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-identifier">imageObj</span> = <span class="ruby-identifier">image</span>.<span class="ruby-identifier">buildResponse</span>(<span class="ruby-identifier">response</span>)
  <span class="ruby-keyword">rescue</span>  <span class="ruby-constant">App42Exception</span> =<span class="ruby-operator">&gt;</span><span class="ruby-identifier">e</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-identifier">e</span>
  <span class="ruby-keyword">rescue</span>  <span class="ruby-constant">Exception</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">App42Exception</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">e</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">imageObj</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- resize-source -->
          
        </div>

        

        
      </div><!-- resize-method -->

    
      <div id="method-i-resize_by_percentage" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">resize_by_percentage</span><span
            class="method-args">(name, imagePath, percentage)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Resize image by Percentage. Returns the original image url and converted
image url. Images are stored in the cloud and can be accessed through the
urls Resizing is done based on the width and height provided @params name
Name of the image to resize @params imagePath Path of the local file to
resize @params percentage Percentage to which image has to be resized
@returns <a href="Image.html">Image</a> object containing urls for the
original and converted images @raise <a
href="../../App42Exception.html">App42Exception</a></p>
          

          
          <div class="method-source-code" id="resize_by_percentage-source">
            <pre><span class="ruby-comment"># File com/shephertz/app42/paas/sdk/ruby/imageProcessor/ImageProcessorService.rb, line 489</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">resize_by_percentage</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">imagePath</span>, <span class="ruby-identifier">percentage</span>)
  <span class="ruby-identifier">puts</span> <span class="ruby-string">&quot;resizeByPercentage Called &quot;</span>
  <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Base url #{@base_url}&quot;</span>
  <span class="ruby-identifier">response</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">imageObj</span> = <span class="ruby-constant">Image</span>.<span class="ruby-identifier">new</span>()
  <span class="ruby-identifier">imageObj</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">util</span> = <span class="ruby-constant">Util</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">util</span>.<span class="ruby-identifier">throwExceptionIfNullOrBlank</span>(<span class="ruby-identifier">name</span>, <span class="ruby-string">&quot;Name&quot;</span>);
  <span class="ruby-identifier">util</span>.<span class="ruby-identifier">throwExceptionIfNullOrBlank</span>(<span class="ruby-identifier">imagePath</span>, <span class="ruby-string">&quot;Image Path&quot;</span>);
  <span class="ruby-identifier">util</span>.<span class="ruby-identifier">throwExceptionIfNullOrBlank</span>(<span class="ruby-identifier">percentage</span>, <span class="ruby-string">&quot;Percentage&quot;</span>);
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">file</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">imagePath</span>,<span class="ruby-string">&quot;rb&quot;</span>)
    <span class="ruby-identifier">ext</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">extname</span>(<span class="ruby-identifier">file</span>)
    <span class="ruby-keyword">if</span>((<span class="ruby-identifier">ext</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;.jpg&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>) <span class="ruby-operator">&amp;&amp;</span>  (<span class="ruby-identifier">ext</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;.jpeg&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>) <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">ext</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;.gif&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>) <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">ext</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;.png&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>))
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">TypeError</span>,<span class="ruby-string">&quot;The Request parameters are invalid. Only file with extensions jpg, jpeg, gif and png are supported&quot;</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">file?</span>(<span class="ruby-identifier">imagePath</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">App42Exception</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;File &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">imagePath</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot; does not exist&quot;</span>);
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">connection</span> = <span class="ruby-constant">App42</span><span class="ruby-operator">::</span><span class="ruby-constant">Connection</span><span class="ruby-operator">::</span><span class="ruby-constant">RESTConnection</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@base_url</span>)
    <span class="ruby-identifier">query_params</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-identifier">params</span> = {
      <span class="ruby-string">'apiKey'</span>=<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@api_key</span>,
      <span class="ruby-string">'version'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@version</span>,
      <span class="ruby-string">'timeStamp'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">util</span>.<span class="ruby-identifier">get_timestamp_utc</span>,
    }
    <span class="ruby-identifier">query_params</span> = <span class="ruby-identifier">params</span>.<span class="ruby-identifier">clone</span>
    <span class="ruby-identifier">params</span>.<span class="ruby-identifier">store</span>(<span class="ruby-string">&quot;name&quot;</span>, <span class="ruby-identifier">name</span>)
    <span class="ruby-identifier">params</span>.<span class="ruby-identifier">store</span>(<span class="ruby-string">&quot;percentage&quot;</span>, (<span class="ruby-identifier">percentage</span>.<span class="ruby-identifier">to_f</span>).<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;&quot;</span>)
    <span class="ruby-identifier">signature</span> = <span class="ruby-identifier">util</span>.<span class="ruby-identifier">sign</span>(<span class="ruby-ivar">@secret_key</span>, <span class="ruby-identifier">params</span>)
    <span class="ruby-identifier">resource_url</span> = <span class="ruby-node">&quot;#{@version}/#{@resource}/resizePercentage&quot;</span>
    <span class="ruby-identifier">response</span> = <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">imageMultipart</span>(<span class="ruby-identifier">signature</span>, <span class="ruby-identifier">resource_url</span>, <span class="ruby-identifier">query_params</span>, <span class="ruby-identifier">params</span>, <span class="ruby-identifier">imagePath</span>)
    <span class="ruby-identifier">image</span> = <span class="ruby-constant">ImageProcessorResponseBuilder</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-identifier">imageObj</span> = <span class="ruby-identifier">image</span>.<span class="ruby-identifier">buildResponse</span>(<span class="ruby-identifier">response</span>)
  <span class="ruby-keyword">rescue</span>  <span class="ruby-constant">App42Exception</span> =<span class="ruby-operator">&gt;</span><span class="ruby-identifier">e</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-identifier">e</span>
  <span class="ruby-keyword">rescue</span>  <span class="ruby-constant">Exception</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">App42Exception</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">e</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">imageObj</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- resize_by_percentage-source -->
          
        </div>

        

        
      </div><!-- resize_by_percentage-method -->

    
      <div id="method-i-resize_by_percentage_by_stream" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">resize_by_percentage_by_stream</span><span
            class="method-args">(name, imagePath, percentage)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Resize image by Percentage. Returns the original image url and converted
image url. Images are stored in the cloud and can be accessed through the
urls Resizing is done based on the width and height provided @param name
Name of the image to resize @param inputStream InputStream of the local
file to resize @param percentage Percentage to which image has to be
resized @returns <a href="Image.html">Image</a> object containing urls for
the original and converted images @throws <a
href="../../App42Exception.html">App42Exception</a></p>
          

          
          <div class="method-source-code" id="resize_by_percentage_by_stream-source">
            <pre><span class="ruby-comment"># File com/shephertz/app42/paas/sdk/ruby/imageProcessor/ImageProcessorService.rb, line 540</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">resize_by_percentage_by_stream</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">imagePath</span>, <span class="ruby-identifier">percentage</span>)
  <span class="ruby-identifier">puts</span> <span class="ruby-string">&quot;resizeByPercentage Called &quot;</span>
  <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Base url #{@base_url}&quot;</span>
  <span class="ruby-identifier">response</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">imageObj</span> = <span class="ruby-constant">Image</span>.<span class="ruby-identifier">new</span>()
  <span class="ruby-identifier">imageObj</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">util</span> = <span class="ruby-constant">Util</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">util</span>.<span class="ruby-identifier">throwExceptionIfNullOrBlank</span>(<span class="ruby-identifier">name</span>, <span class="ruby-string">&quot;Name&quot;</span>);
  <span class="ruby-identifier">util</span>.<span class="ruby-identifier">throwExceptionIfNotValidImageExtension</span>(<span class="ruby-identifier">name</span>, <span class="ruby-string">&quot;Name&quot;</span>);
  <span class="ruby-identifier">util</span>.<span class="ruby-identifier">throwExceptionIfNullOrBlank</span>(<span class="ruby-identifier">percentage</span>, <span class="ruby-string">&quot;Percentage&quot;</span>);
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">file</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">imagePath</span>,<span class="ruby-string">&quot;rb&quot;</span>)
    <span class="ruby-identifier">ext</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">extname</span>(<span class="ruby-identifier">file</span>)
    <span class="ruby-keyword">if</span>((<span class="ruby-identifier">ext</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;.jpg&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>) <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">ext</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;.jpeg&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>) <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">ext</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;.gif&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>) <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">ext</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;.png&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>))
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">TypeError</span>,<span class="ruby-string">&quot;The Request parameters are invalid. Only file with extensions jpg, jpeg, gif and png are supported&quot;</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">file?</span>(<span class="ruby-identifier">imagePath</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">App42Exception</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;File &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">imagePath</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot; does not exist&quot;</span>);
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">connection</span> = <span class="ruby-constant">App42</span><span class="ruby-operator">::</span><span class="ruby-constant">Connection</span><span class="ruby-operator">::</span><span class="ruby-constant">RESTConnection</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@base_url</span>)
    <span class="ruby-identifier">query_params</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-identifier">params</span> = {
      <span class="ruby-string">'apiKey'</span>=<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@api_key</span>,
      <span class="ruby-string">'version'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@version</span>,
      <span class="ruby-string">'timeStamp'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">util</span>.<span class="ruby-identifier">get_timestamp_utc</span>,
    }
    <span class="ruby-identifier">query_params</span> = <span class="ruby-identifier">params</span>.<span class="ruby-identifier">clone</span>
    <span class="ruby-identifier">params</span>.<span class="ruby-identifier">store</span>(<span class="ruby-string">&quot;name&quot;</span>, <span class="ruby-identifier">name</span>)
    <span class="ruby-identifier">params</span>.<span class="ruby-identifier">store</span>(<span class="ruby-string">&quot;percentage&quot;</span>, (<span class="ruby-identifier">percentage</span>.<span class="ruby-identifier">to_f</span>).<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;&quot;</span>)
    <span class="ruby-identifier">signature</span> = <span class="ruby-identifier">util</span>.<span class="ruby-identifier">sign</span>(<span class="ruby-ivar">@secret_key</span>, <span class="ruby-identifier">params</span>)
    <span class="ruby-identifier">resource_url</span> = <span class="ruby-node">&quot;#{@version}/#{@resource}/resizePercentage&quot;</span>
    <span class="ruby-identifier">response</span> = <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">imageMultipartStream</span>(<span class="ruby-identifier">signature</span>, <span class="ruby-identifier">resource_url</span>, <span class="ruby-identifier">query_params</span>, <span class="ruby-identifier">params</span>, <span class="ruby-identifier">imagePath</span>)
    <span class="ruby-identifier">image</span> = <span class="ruby-constant">ImageProcessorResponseBuilder</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-identifier">imageObj</span> = <span class="ruby-identifier">image</span>.<span class="ruby-identifier">buildResponse</span>(<span class="ruby-identifier">response</span>)
  <span class="ruby-keyword">rescue</span>  <span class="ruby-constant">App42Exception</span> =<span class="ruby-operator">&gt;</span><span class="ruby-identifier">e</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-identifier">e</span>
  <span class="ruby-keyword">rescue</span>  <span class="ruby-constant">Exception</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">App42Exception</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">e</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">imageObj</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- resize_by_percentage_by_stream-source -->
          
        </div>

        

        
      </div><!-- resize_by_percentage_by_stream-method -->

    
      <div id="method-i-resize_stream" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">resize_stream</span><span
            class="method-args">(name, imagePath, width, height)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Resize image. Returns the original image url and converted image url.
Images are stored on the cloud and can be accessed through the urls
Resizing is done based on the width and height provided @param name Name of
the image to resize @param inputStream InputStream of the local file to
resize @param width Width of the image to resize @param height Height of
the image to resize @returns <a href="Image.html">Image</a> object
containing urls for the original and converted images @throws <a
href="../../App42Exception.html">App42Exception</a></p>
          

          
          <div class="method-source-code" id="resize_stream-source">
            <pre><span class="ruby-comment"># File com/shephertz/app42/paas/sdk/ruby/imageProcessor/ImageProcessorService.rb, line 96</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">resize_stream</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">imagePath</span>, <span class="ruby-identifier">width</span>, <span class="ruby-identifier">height</span>)
  <span class="ruby-identifier">puts</span> <span class="ruby-string">&quot;resize stream Called &quot;</span>
  <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Base url #{@base_url}&quot;</span>
  <span class="ruby-identifier">response</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">imageObj</span> = <span class="ruby-constant">Image</span>.<span class="ruby-identifier">new</span>()
  <span class="ruby-identifier">imageObj</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">util</span> = <span class="ruby-constant">Util</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">util</span>.<span class="ruby-identifier">throwExceptionIfNullOrBlank</span>(<span class="ruby-identifier">name</span>, <span class="ruby-string">&quot;Name&quot;</span>);
  <span class="ruby-identifier">util</span>.<span class="ruby-identifier">throwExceptionIfNotValidImageExtension</span>(<span class="ruby-identifier">name</span>, <span class="ruby-string">&quot;Name&quot;</span>);
  <span class="ruby-identifier">util</span>.<span class="ruby-identifier">throwExceptionIfNullOrBlank</span>(<span class="ruby-identifier">width</span>, <span class="ruby-string">&quot;Width&quot;</span>);
  <span class="ruby-identifier">util</span>.<span class="ruby-identifier">throwExceptionIfNullOrBlank</span>(<span class="ruby-identifier">height</span>, <span class="ruby-string">&quot;Height&quot;</span>);
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">file</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">imagePath</span>,<span class="ruby-string">&quot;rb&quot;</span>)
    <span class="ruby-identifier">ext</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">extname</span>(<span class="ruby-identifier">file</span>)
    <span class="ruby-keyword">if</span>((<span class="ruby-identifier">ext</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;.jpg&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>) <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">ext</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;.jpeg&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>) <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">ext</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;.gif&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>) <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">ext</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;.png&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>))
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">TypeError</span>,<span class="ruby-string">&quot;The Request parameters are invalid. Only file with extensions jpg, jpeg, gif and png are supported&quot;</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">file?</span>(<span class="ruby-identifier">imagePath</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">App42Exception</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot; File &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">imagePath</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot; does not exist&quot;</span>);
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">connection</span> = <span class="ruby-constant">App42</span><span class="ruby-operator">::</span><span class="ruby-constant">Connection</span><span class="ruby-operator">::</span><span class="ruby-constant">RESTConnection</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@base_url</span>)
    <span class="ruby-identifier">query_params</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-identifier">params</span> = {
      <span class="ruby-string">'apiKey'</span>=<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@api_key</span>,
      <span class="ruby-string">'version'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@version</span>,
      <span class="ruby-string">'timeStamp'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">util</span>.<span class="ruby-identifier">get_timestamp_utc</span>,
    }
    <span class="ruby-identifier">query_params</span> = <span class="ruby-identifier">params</span>.<span class="ruby-identifier">clone</span>
    <span class="ruby-identifier">params</span>.<span class="ruby-identifier">store</span>(<span class="ruby-string">&quot;name&quot;</span>, <span class="ruby-identifier">name</span>)
    <span class="ruby-identifier">params</span>.<span class="ruby-identifier">store</span>(<span class="ruby-string">&quot;width&quot;</span>, <span class="ruby-identifier">width</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;&quot;</span>)
    <span class="ruby-identifier">params</span>.<span class="ruby-identifier">store</span>(<span class="ruby-string">&quot;height&quot;</span>, <span class="ruby-identifier">height</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;&quot;</span>)
    <span class="ruby-identifier">signature</span> = <span class="ruby-identifier">util</span>.<span class="ruby-identifier">sign</span>(<span class="ruby-ivar">@secret_key</span>, <span class="ruby-identifier">params</span>)
    <span class="ruby-identifier">resource_url</span> = <span class="ruby-node">&quot;#{@version}/#{@resource}/resize&quot;</span>
    <span class="ruby-identifier">response</span> = <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">imageMultipartStream</span>(<span class="ruby-identifier">signature</span>, <span class="ruby-identifier">resource_url</span>, <span class="ruby-identifier">query_params</span>, <span class="ruby-identifier">params</span>, <span class="ruby-identifier">imagePath</span>)
    <span class="ruby-identifier">image</span> = <span class="ruby-constant">ImageProcessorResponseBuilder</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-identifier">imageObj</span> = <span class="ruby-identifier">image</span>.<span class="ruby-identifier">buildResponse</span>(<span class="ruby-identifier">response</span>)
  <span class="ruby-keyword">rescue</span>  <span class="ruby-constant">App42Exception</span> =<span class="ruby-operator">&gt;</span><span class="ruby-identifier">e</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-identifier">e</span>
  <span class="ruby-keyword">rescue</span>  <span class="ruby-constant">Exception</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">App42Exception</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">e</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">imageObj</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- resize_stream-source -->
          
        </div>

        

        
      </div><!-- resize_stream-method -->

    
      <div id="method-i-scale" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">scale</span><span
            class="method-args">(name, imagePath, width, height)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Scales the image based on width and height. Returns the original image url
and converted image url. Images are stored in the cloud and can be accessed
through the urls Resizing is done based on the width and height provided
@params name Name of the image to scale @params imagePath Path of the local
file to scale @params width Width of the image to scale @params height
Height of the image to scale @returns  <a href="Image.html">Image</a>
object containing urls for the original and converted images @raise <a
href="../../App42Exception.html">App42Exception</a></p>
          

          
          <div class="method-source-code" id="scale-source">
            <pre><span class="ruby-comment"># File com/shephertz/app42/paas/sdk/ruby/imageProcessor/ImageProcessorService.rb, line 262</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">scale</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">imagePath</span>, <span class="ruby-identifier">width</span>, <span class="ruby-identifier">height</span>)
  <span class="ruby-identifier">puts</span> <span class="ruby-string">&quot;scale Called &quot;</span>
  <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Base url #{@base_url}&quot;</span>
  <span class="ruby-identifier">response</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">imageObj</span> = <span class="ruby-constant">Image</span>.<span class="ruby-identifier">new</span>()
  <span class="ruby-identifier">imageObj</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">util</span> = <span class="ruby-constant">Util</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">util</span>.<span class="ruby-identifier">throwExceptionIfNullOrBlank</span>(<span class="ruby-identifier">name</span>, <span class="ruby-string">&quot;Name&quot;</span>);
  <span class="ruby-identifier">util</span>.<span class="ruby-identifier">throwExceptionIfNullOrBlank</span>(<span class="ruby-identifier">imagePath</span>, <span class="ruby-string">&quot;Image Path&quot;</span>);
  <span class="ruby-identifier">util</span>.<span class="ruby-identifier">throwExceptionIfNullOrBlank</span>(<span class="ruby-identifier">width</span>, <span class="ruby-string">&quot;Width&quot;</span>);
  <span class="ruby-identifier">util</span>.<span class="ruby-identifier">throwExceptionIfNullOrBlank</span>(<span class="ruby-identifier">height</span>, <span class="ruby-string">&quot;Height&quot;</span>);
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">file</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">imagePath</span>,<span class="ruby-string">&quot;rb&quot;</span>)
    <span class="ruby-identifier">ext</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">extname</span>(<span class="ruby-identifier">file</span>)
    <span class="ruby-keyword">if</span>((<span class="ruby-identifier">ext</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;.jpg&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>) <span class="ruby-operator">&amp;&amp;</span>  (<span class="ruby-identifier">ext</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;.jpeg&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>) <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">ext</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;.gif&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>) <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">ext</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;.png&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>))
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">TypeError</span>,<span class="ruby-string">&quot;The Request parameters are invalid. Only file with extensions jpg, jpeg, gif and png are supported&quot;</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">file?</span>(<span class="ruby-identifier">imagePath</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">App42Exception</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot; File &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">imagePath</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot; does not exist&quot;</span>);
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">connection</span> = <span class="ruby-constant">App42</span><span class="ruby-operator">::</span><span class="ruby-constant">Connection</span><span class="ruby-operator">::</span><span class="ruby-constant">RESTConnection</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@base_url</span>)
    <span class="ruby-identifier">query_params</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-identifier">params</span> = {
      <span class="ruby-string">'apiKey'</span>=<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@api_key</span>,
      <span class="ruby-string">'version'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@version</span>,
      <span class="ruby-string">'timeStamp'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">util</span>.<span class="ruby-identifier">get_timestamp_utc</span>,
    }
    <span class="ruby-identifier">query_params</span> = <span class="ruby-identifier">params</span>.<span class="ruby-identifier">clone</span>
    <span class="ruby-identifier">params</span>.<span class="ruby-identifier">store</span>(<span class="ruby-string">&quot;name&quot;</span>, <span class="ruby-identifier">name</span>)
    <span class="ruby-identifier">params</span>.<span class="ruby-identifier">store</span>(<span class="ruby-string">&quot;width&quot;</span>, (<span class="ruby-identifier">width</span>.<span class="ruby-identifier">to_i</span>).<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;&quot;</span>)
    <span class="ruby-identifier">params</span>.<span class="ruby-identifier">store</span>(<span class="ruby-string">&quot;height&quot;</span>, (<span class="ruby-identifier">height</span>.<span class="ruby-identifier">to_i</span>).<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;&quot;</span>)
    <span class="ruby-identifier">signature</span> = <span class="ruby-identifier">util</span>.<span class="ruby-identifier">sign</span>(<span class="ruby-ivar">@secret_key</span>, <span class="ruby-identifier">params</span>)
    <span class="ruby-identifier">resource_url</span> = <span class="ruby-node">&quot;#{@version}/#{@resource}/scale&quot;</span>
    <span class="ruby-identifier">response</span> = <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">imageMultipart</span>(<span class="ruby-identifier">signature</span>, <span class="ruby-identifier">resource_url</span>, <span class="ruby-identifier">query_params</span>, <span class="ruby-identifier">params</span>, <span class="ruby-identifier">imagePath</span>)
    <span class="ruby-identifier">image</span> = <span class="ruby-constant">ImageProcessorResponseBuilder</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-identifier">imageObj</span> = <span class="ruby-identifier">image</span>.<span class="ruby-identifier">buildResponse</span>(<span class="ruby-identifier">response</span>)
  <span class="ruby-keyword">rescue</span>  <span class="ruby-constant">App42Exception</span> =<span class="ruby-operator">&gt;</span><span class="ruby-identifier">e</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-identifier">e</span>
  <span class="ruby-keyword">rescue</span>  <span class="ruby-constant">Exception</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">App42Exception</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">e</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">imageObj</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- scale-source -->
          
        </div>

        

        
      </div><!-- scale-method -->

    
      <div id="method-i-scale_by_percentage" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">scale_by_percentage</span><span
            class="method-args">(name, imagePath, percentage)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Scales the image  by Percentage. Returns the original image url and
converted image url. Images are stored in the cloud and can be accessed
through the urls Resizing is done based on the width and height provided
@params name Name of the image file to scale @params imagePath Path of the
local file to scale @params percentage Percentage to which image has to be
scaled @returns <a href="Image.html">Image</a> object containing  urls for
the original and converted images @raise <a
href="../../App42Exception.html">App42Exception</a></p>
          

          
          <div class="method-source-code" id="scale_by_percentage-source">
            <pre><span class="ruby-comment"># File com/shephertz/app42/paas/sdk/ruby/imageProcessor/ImageProcessorService.rb, line 700</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">scale_by_percentage</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">imagePath</span>, <span class="ruby-identifier">percentage</span>)
  <span class="ruby-identifier">puts</span> <span class="ruby-string">&quot;scaleByPercentage Called &quot;</span>
  <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Base url #{@base_url}&quot;</span>
  <span class="ruby-identifier">response</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">imageObj</span> = <span class="ruby-constant">Image</span>.<span class="ruby-identifier">new</span>()
  <span class="ruby-identifier">imageObj</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">util</span> = <span class="ruby-constant">Util</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">util</span>.<span class="ruby-identifier">throwExceptionIfNullOrBlank</span>(<span class="ruby-identifier">name</span>, <span class="ruby-string">&quot;Name&quot;</span>);
  <span class="ruby-identifier">util</span>.<span class="ruby-identifier">throwExceptionIfNullOrBlank</span>(<span class="ruby-identifier">imagePath</span>, <span class="ruby-string">&quot;Image Path&quot;</span>);
  <span class="ruby-identifier">util</span>.<span class="ruby-identifier">throwExceptionIfNullOrBlank</span>(<span class="ruby-identifier">percentage</span>, <span class="ruby-string">&quot;Percentage&quot;</span>);
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">file</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">imagePath</span>,<span class="ruby-string">&quot;rb&quot;</span>)
    <span class="ruby-identifier">ext</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">extname</span>(<span class="ruby-identifier">file</span>)
    <span class="ruby-keyword">if</span>((<span class="ruby-identifier">ext</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;.jpg&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>) <span class="ruby-operator">&amp;&amp;</span>  (<span class="ruby-identifier">ext</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;.jpeg&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>) <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">ext</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;.gif&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>) <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">ext</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;.png&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>))
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">TypeError</span>,<span class="ruby-string">&quot;The Request parameters are invalid. Only file with extensions jpg, jpeg, gif and png are supported&quot;</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">file?</span>(<span class="ruby-identifier">imagePath</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">App42Exception</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;File &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">imagePath</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot; does not exist&quot;</span>);
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">connection</span> = <span class="ruby-constant">App42</span><span class="ruby-operator">::</span><span class="ruby-constant">Connection</span><span class="ruby-operator">::</span><span class="ruby-constant">RESTConnection</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@base_url</span>)
    <span class="ruby-identifier">query_params</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-identifier">params</span> = {
      <span class="ruby-string">'apiKey'</span>=<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@api_key</span>,
      <span class="ruby-string">'version'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@version</span>,
      <span class="ruby-string">'timeStamp'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">util</span>.<span class="ruby-identifier">get_timestamp_utc</span>,
    }
    <span class="ruby-identifier">query_params</span> = <span class="ruby-identifier">params</span>.<span class="ruby-identifier">clone</span>
    <span class="ruby-identifier">params</span>.<span class="ruby-identifier">store</span>(<span class="ruby-string">&quot;name&quot;</span>, <span class="ruby-identifier">name</span>)
    <span class="ruby-identifier">params</span>.<span class="ruby-identifier">store</span>(<span class="ruby-string">&quot;percentage&quot;</span>, (<span class="ruby-identifier">percentage</span>.<span class="ruby-identifier">to_f</span>).<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;&quot;</span>)
    <span class="ruby-identifier">signature</span> = <span class="ruby-identifier">util</span>.<span class="ruby-identifier">sign</span>(<span class="ruby-ivar">@secret_key</span>, <span class="ruby-identifier">params</span>)
    <span class="ruby-identifier">resource_url</span> = <span class="ruby-node">&quot;#{@version}/#{@resource}/scalePercentage&quot;</span>
    <span class="ruby-identifier">response</span> = <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">imageMultipart</span>(<span class="ruby-identifier">signature</span>, <span class="ruby-identifier">resource_url</span>, <span class="ruby-identifier">query_params</span>, <span class="ruby-identifier">params</span>, <span class="ruby-identifier">imagePath</span>)
    <span class="ruby-identifier">image</span> = <span class="ruby-constant">ImageProcessorResponseBuilder</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-identifier">imageObj</span> = <span class="ruby-identifier">image</span>.<span class="ruby-identifier">buildResponse</span>(<span class="ruby-identifier">response</span>)
  <span class="ruby-keyword">rescue</span>  <span class="ruby-constant">App42Exception</span> =<span class="ruby-operator">&gt;</span><span class="ruby-identifier">e</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-identifier">e</span>
  <span class="ruby-keyword">rescue</span>  <span class="ruby-constant">Exception</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">App42Exception</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">e</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">imageObj</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- scale_by_percentage-source -->
          
        </div>

        

        
      </div><!-- scale_by_percentage-method -->

    
      <div id="method-i-scale_by_percentage_stream" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">scale_by_percentage_stream</span><span
            class="method-args">(name, imagePath, percentage)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Scales the image  by Percentage. Returns the original image url and
converted image url. Images are stored in the cloud and can be accessed
through the urls Resizing is done based on the width and height provided
@param name Name of the image file to scale @param inputStream InputStream
of the local file to scale @param percentage Percentage to which image has
to be scaled @returns <a href="Image.html">Image</a> object containing 
urls for the original and converted images @throws <a
href="../../App42Exception.html">App42Exception</a></p>
          

          
          <div class="method-source-code" id="scale_by_percentage_stream-source">
            <pre><span class="ruby-comment"># File com/shephertz/app42/paas/sdk/ruby/imageProcessor/ImageProcessorService.rb, line 751</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">scale_by_percentage_stream</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">imagePath</span>, <span class="ruby-identifier">percentage</span>)
  <span class="ruby-identifier">puts</span> <span class="ruby-string">&quot;scaleByPercentage Called &quot;</span>
  <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Base url #{@base_url}&quot;</span>
  <span class="ruby-identifier">response</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">imageObj</span> = <span class="ruby-constant">Image</span>.<span class="ruby-identifier">new</span>()
  <span class="ruby-identifier">imageObj</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">util</span> = <span class="ruby-constant">Util</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">util</span>.<span class="ruby-identifier">throwExceptionIfNullOrBlank</span>(<span class="ruby-identifier">name</span>, <span class="ruby-string">&quot;Name&quot;</span>);
  <span class="ruby-identifier">util</span>.<span class="ruby-identifier">throwExceptionIfNotValidImageExtension</span>(<span class="ruby-identifier">name</span>, <span class="ruby-string">&quot;Name&quot;</span>);
  <span class="ruby-identifier">util</span>.<span class="ruby-identifier">throwExceptionIfNullOrBlank</span>(<span class="ruby-identifier">percentage</span>, <span class="ruby-string">&quot;Percentage&quot;</span>);
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">file</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">imagePath</span>,<span class="ruby-string">&quot;rb&quot;</span>)
    <span class="ruby-identifier">ext</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">extname</span>(<span class="ruby-identifier">file</span>)
    <span class="ruby-keyword">if</span>((<span class="ruby-identifier">ext</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;.jpg&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>) <span class="ruby-operator">&amp;&amp;</span>  (<span class="ruby-identifier">ext</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;.jpeg&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>) <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">ext</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;.gif&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>) <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">ext</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;.png&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>))
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">TypeError</span>,<span class="ruby-string">&quot;The Request parameters are invalid. Only file with extensions jpg, jpeg, gif and png are supported&quot;</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">file?</span>(<span class="ruby-identifier">imagePath</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">App42Exception</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;File &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">imagePath</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot; does not exist&quot;</span>);
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">connection</span> = <span class="ruby-constant">App42</span><span class="ruby-operator">::</span><span class="ruby-constant">Connection</span><span class="ruby-operator">::</span><span class="ruby-constant">RESTConnection</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@base_url</span>)
    <span class="ruby-identifier">query_params</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-identifier">params</span> = {
      <span class="ruby-string">'apiKey'</span>=<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@api_key</span>,
      <span class="ruby-string">'version'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@version</span>,
      <span class="ruby-string">'timeStamp'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">util</span>.<span class="ruby-identifier">get_timestamp_utc</span>,
    }
    <span class="ruby-identifier">query_params</span> = <span class="ruby-identifier">params</span>.<span class="ruby-identifier">clone</span>
    <span class="ruby-identifier">params</span>.<span class="ruby-identifier">store</span>(<span class="ruby-string">&quot;name&quot;</span>, <span class="ruby-identifier">name</span>)
    <span class="ruby-identifier">params</span>.<span class="ruby-identifier">store</span>(<span class="ruby-string">&quot;percentage&quot;</span>, (<span class="ruby-identifier">percentage</span>.<span class="ruby-identifier">to_f</span>).<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;&quot;</span>)
    <span class="ruby-identifier">signature</span> = <span class="ruby-identifier">util</span>.<span class="ruby-identifier">sign</span>(<span class="ruby-ivar">@secret_key</span>, <span class="ruby-identifier">params</span>)
    <span class="ruby-identifier">resource_url</span> = <span class="ruby-node">&quot;#{@version}/#{@resource}/scalePercentage&quot;</span>
    <span class="ruby-identifier">response</span> = <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">imageMultipartStream</span>(<span class="ruby-identifier">signature</span>, <span class="ruby-identifier">resource_url</span>, <span class="ruby-identifier">query_params</span>, <span class="ruby-identifier">params</span>, <span class="ruby-identifier">imagePath</span>)
    <span class="ruby-identifier">image</span> = <span class="ruby-constant">ImageProcessorResponseBuilder</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-identifier">imageObj</span> = <span class="ruby-identifier">image</span>.<span class="ruby-identifier">buildResponse</span>(<span class="ruby-identifier">response</span>)
  <span class="ruby-keyword">rescue</span>  <span class="ruby-constant">App42Exception</span> =<span class="ruby-operator">&gt;</span><span class="ruby-identifier">e</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-identifier">e</span>
  <span class="ruby-keyword">rescue</span>  <span class="ruby-constant">Exception</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">App42Exception</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">e</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">imageObj</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- scale_by_percentage_stream-source -->
          
        </div>

        

        
      </div><!-- scale_by_percentage_stream-method -->

    
      <div id="method-i-scale_stream" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">scale_stream</span><span
            class="method-args">(name, imagePath, width, height)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Scales the image based on width and height. Returns the original image url
and converted image url. Images are stored in the cloud and can be accessed
through the urls Resizing is done based on the width and height provided
@param name Name of the image to scale @param inputStream InputStream of
the local file to scale @param width Width of the image to scale @param
height Height of the image to scale @returns <a href="Image.html">Image</a>
object containing urls for the original and converted images @throws <a
href="../../App42Exception.html">App42Exception</a></p>
          

          
          <div class="method-source-code" id="scale_stream-source">
            <pre><span class="ruby-comment"># File com/shephertz/app42/paas/sdk/ruby/imageProcessor/ImageProcessorService.rb, line 316</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">scale_stream</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">imagePath</span>, <span class="ruby-identifier">width</span>, <span class="ruby-identifier">height</span>)
  <span class="ruby-identifier">puts</span> <span class="ruby-string">&quot;scale Called &quot;</span>
  <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Base url #{@base_url}&quot;</span>
  <span class="ruby-identifier">response</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">imageObj</span> = <span class="ruby-constant">Image</span>.<span class="ruby-identifier">new</span>()
  <span class="ruby-identifier">imageObj</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">util</span> = <span class="ruby-constant">Util</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">util</span>.<span class="ruby-identifier">throwExceptionIfNullOrBlank</span>(<span class="ruby-identifier">name</span>, <span class="ruby-string">&quot;Name&quot;</span>);
  <span class="ruby-identifier">util</span>.<span class="ruby-identifier">throwExceptionIfNotValidImageExtension</span>(<span class="ruby-identifier">name</span>, <span class="ruby-string">&quot;Name&quot;</span>);
  <span class="ruby-identifier">util</span>.<span class="ruby-identifier">throwExceptionIfNullOrBlank</span>(<span class="ruby-identifier">width</span>, <span class="ruby-string">&quot;Width&quot;</span>);
  <span class="ruby-identifier">util</span>.<span class="ruby-identifier">throwExceptionIfNullOrBlank</span>(<span class="ruby-identifier">height</span>, <span class="ruby-string">&quot;Height&quot;</span>);
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">file</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">imagePath</span>,<span class="ruby-string">&quot;rb&quot;</span>)
    <span class="ruby-identifier">ext</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">extname</span>(<span class="ruby-identifier">file</span>)
    <span class="ruby-keyword">if</span>((<span class="ruby-identifier">ext</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;.jpg&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>) <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">ext</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;.jpeg&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>) <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">ext</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;.gif&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>) <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">ext</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;.png&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>))
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">TypeError</span>,<span class="ruby-string">&quot;The Request parameters are invalid. Only file with extensions jpg, jpeg, gif and png are supported&quot;</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">file?</span>(<span class="ruby-identifier">imagePath</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">App42Exception</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot; File &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">imagePath</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot; does not exist&quot;</span>);
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">connection</span> = <span class="ruby-constant">App42</span><span class="ruby-operator">::</span><span class="ruby-constant">Connection</span><span class="ruby-operator">::</span><span class="ruby-constant">RESTConnection</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@base_url</span>)
    <span class="ruby-identifier">query_params</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-identifier">params</span> = {
      <span class="ruby-string">'apiKey'</span>=<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@api_key</span>,
      <span class="ruby-string">'version'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@version</span>,
      <span class="ruby-string">'timeStamp'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">util</span>.<span class="ruby-identifier">get_timestamp_utc</span>,
    }
    <span class="ruby-identifier">query_params</span> = <span class="ruby-identifier">params</span>.<span class="ruby-identifier">clone</span>
    <span class="ruby-identifier">params</span>.<span class="ruby-identifier">store</span>(<span class="ruby-string">&quot;name&quot;</span>, <span class="ruby-identifier">name</span>)
    <span class="ruby-identifier">params</span>.<span class="ruby-identifier">store</span>(<span class="ruby-string">&quot;width&quot;</span>, (<span class="ruby-identifier">width</span>.<span class="ruby-identifier">to_i</span>).<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;&quot;</span>)
    <span class="ruby-identifier">params</span>.<span class="ruby-identifier">store</span>(<span class="ruby-string">&quot;height&quot;</span>, (<span class="ruby-identifier">height</span>.<span class="ruby-identifier">to_i</span>).<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;&quot;</span>)
    <span class="ruby-identifier">signature</span> = <span class="ruby-identifier">util</span>.<span class="ruby-identifier">sign</span>(<span class="ruby-ivar">@secret_key</span>, <span class="ruby-identifier">params</span>)
    <span class="ruby-identifier">resource_url</span> = <span class="ruby-node">&quot;#{@version}/#{@resource}/scale&quot;</span>
    <span class="ruby-identifier">response</span> = <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">imageMultipartStream</span>(<span class="ruby-identifier">signature</span>, <span class="ruby-identifier">resource_url</span>, <span class="ruby-identifier">query_params</span>, <span class="ruby-identifier">params</span>, <span class="ruby-identifier">imagePath</span>)
    <span class="ruby-identifier">image</span> = <span class="ruby-constant">ImageProcessorResponseBuilder</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-identifier">imageObj</span> = <span class="ruby-identifier">image</span>.<span class="ruby-identifier">buildResponse</span>(<span class="ruby-identifier">response</span>)
  <span class="ruby-keyword">rescue</span>  <span class="ruby-constant">App42Exception</span> =<span class="ruby-operator">&gt;</span><span class="ruby-identifier">e</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-identifier">e</span>
  <span class="ruby-keyword">rescue</span>  <span class="ruby-constant">Exception</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">App42Exception</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">e</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">imageObj</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- scale_stream-source -->
          
        </div>

        

        
      </div><!-- scale_stream-method -->

    
      <div id="method-i-thumbnail" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">thumbnail</span><span
            class="method-args">(name, imagePath, width, height)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Creates a thumbnail of the image. There is a difference between thumbnail
and resize The thumbnail operation is optimized for speed, it removes
information of the image which is not necessary for a thumbnail e.g hearder
information. Returns the original image url and converted image url. Images
are stored on the cloud and can be accessed through the urls Resizing is
done based on the width and height provided @params name Name of the image
file for which thumbnail has to be created @params imagePath Path of the
local file whose thumbnail has to be created @params width Width of the
image for thumbnail @params height Height of the image for thumbnail
@returns <a href="Image.html">Image</a> object containing urls for the
original and converted images @raise <a
href="../../App42Exception.html">App42Exception</a></p>
          

          
          <div class="method-source-code" id="thumbnail-source">
            <pre><span class="ruby-comment"># File com/shephertz/app42/paas/sdk/ruby/imageProcessor/ImageProcessorService.rb, line 152</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">thumbnail</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">imagePath</span>, <span class="ruby-identifier">width</span>, <span class="ruby-identifier">height</span>)
  <span class="ruby-identifier">puts</span> <span class="ruby-string">&quot;thumbnail Called &quot;</span>
  <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Base url #{@base_url}&quot;</span>
  <span class="ruby-identifier">response</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">imageObj</span> = <span class="ruby-constant">Image</span>.<span class="ruby-identifier">new</span>()
  <span class="ruby-identifier">imageObj</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">util</span> = <span class="ruby-constant">Util</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">util</span>.<span class="ruby-identifier">throwExceptionIfNullOrBlank</span>(<span class="ruby-identifier">name</span>, <span class="ruby-string">&quot;Name&quot;</span>);
  <span class="ruby-identifier">util</span>.<span class="ruby-identifier">throwExceptionIfNullOrBlank</span>(<span class="ruby-identifier">imagePath</span>, <span class="ruby-string">&quot;Image Path&quot;</span>);
  <span class="ruby-identifier">util</span>.<span class="ruby-identifier">throwExceptionIfNullOrBlank</span>(<span class="ruby-identifier">width</span>, <span class="ruby-string">&quot;Width&quot;</span>);
  <span class="ruby-identifier">util</span>.<span class="ruby-identifier">throwExceptionIfNullOrBlank</span>(<span class="ruby-identifier">height</span>, <span class="ruby-string">&quot;Height&quot;</span>);
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">file</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">imagePath</span>,<span class="ruby-string">&quot;rb&quot;</span>)
    <span class="ruby-identifier">ext</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">extname</span>(<span class="ruby-identifier">file</span>)
    <span class="ruby-keyword">if</span>((<span class="ruby-identifier">ext</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;.jpg&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>) <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">ext</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;.jpeg&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>) <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">ext</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;.gif&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>) <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">ext</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;.png&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>))
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">TypeError</span>,<span class="ruby-string">&quot;The Request parameters are invalid. Only file with extensions jpg, jpeg, gif and png are supported&quot;</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">file?</span>(<span class="ruby-identifier">imagePath</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">App42Exception</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot; File &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">imagePath</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot; does not exist&quot;</span>);
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">connection</span> = <span class="ruby-constant">App42</span><span class="ruby-operator">::</span><span class="ruby-constant">Connection</span><span class="ruby-operator">::</span><span class="ruby-constant">RESTConnection</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@base_url</span>)
    <span class="ruby-identifier">query_params</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-identifier">params</span> = {
      <span class="ruby-string">'apiKey'</span>=<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@api_key</span>,
      <span class="ruby-string">'version'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@version</span>,
      <span class="ruby-string">'timeStamp'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">util</span>.<span class="ruby-identifier">get_timestamp_utc</span>,
    }
    <span class="ruby-identifier">query_params</span> = <span class="ruby-identifier">params</span>.<span class="ruby-identifier">clone</span>
    <span class="ruby-identifier">params</span>.<span class="ruby-identifier">store</span>(<span class="ruby-string">&quot;name&quot;</span>, <span class="ruby-identifier">name</span>)
    <span class="ruby-identifier">params</span>.<span class="ruby-identifier">store</span>(<span class="ruby-string">&quot;width&quot;</span>, <span class="ruby-identifier">width</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;&quot;</span>)
    <span class="ruby-identifier">params</span>.<span class="ruby-identifier">store</span>(<span class="ruby-string">&quot;height&quot;</span>, <span class="ruby-identifier">height</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;&quot;</span>)
    <span class="ruby-identifier">signature</span> = <span class="ruby-identifier">util</span>.<span class="ruby-identifier">sign</span>(<span class="ruby-ivar">@secret_key</span>, <span class="ruby-identifier">params</span>)
    <span class="ruby-identifier">resource_url</span> = <span class="ruby-node">&quot;#{@version}/#{@resource}/thumbnail&quot;</span>
    <span class="ruby-identifier">response</span> = <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">imageMultipart</span>(<span class="ruby-identifier">signature</span>, <span class="ruby-identifier">resource_url</span>, <span class="ruby-identifier">query_params</span>, <span class="ruby-identifier">params</span>, <span class="ruby-identifier">imagePath</span>)
    <span class="ruby-identifier">image</span> = <span class="ruby-constant">ImageProcessorResponseBuilder</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-identifier">imageObj</span> = <span class="ruby-identifier">image</span>.<span class="ruby-identifier">buildResponse</span>(<span class="ruby-identifier">response</span>)
  <span class="ruby-keyword">rescue</span>  <span class="ruby-constant">App42Exception</span> =<span class="ruby-operator">&gt;</span><span class="ruby-identifier">e</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-identifier">e</span>
  <span class="ruby-keyword">rescue</span>  <span class="ruby-constant">Exception</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">App42Exception</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">e</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">imageObj</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- thumbnail-source -->
          
        </div>

        

        
      </div><!-- thumbnail-method -->

    
      <div id="method-i-thumbnail_by_percentage" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">thumbnail_by_percentage</span><span
            class="method-args">(name, imagePath, percentage)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Creates a thumbnail of the image by Percentage. There is a difference
between thumbnail and resize The thumbnail operation is optimized for speed
removes information of the image which is not necessary for a thumbnail to
reduce size e.g hearder information. Returns the original image url and
converted image url. Images are stored in the cloud and can be accessed
through the urls Resizing is done based on the width and height provided
@params name Name of the image file for which thumbnail has to be created
@params imagePath Path of the local file whose thumbnail has to be created
@params percentage Percentage for thumbnail @returns <a
href="Image.html">Image</a> object containing  urls for the original and
converted images @raise <a
href="../../App42Exception.html">App42Exception</a></p>
          

          
          <div class="method-source-code" id="thumbnail_by_percentage-source">
            <pre><span class="ruby-comment"># File com/shephertz/app42/paas/sdk/ruby/imageProcessor/ImageProcessorService.rb, line 593</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">thumbnail_by_percentage</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">imagePath</span>, <span class="ruby-identifier">percentage</span>)
  <span class="ruby-identifier">puts</span> <span class="ruby-string">&quot;thumbnailByPercentage Called &quot;</span>
  <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Base url #{@base_url}&quot;</span>
  <span class="ruby-identifier">response</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">imageObj</span> = <span class="ruby-constant">Image</span>.<span class="ruby-identifier">new</span>()
  <span class="ruby-identifier">imageObj</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">util</span> = <span class="ruby-constant">Util</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">util</span>.<span class="ruby-identifier">throwExceptionIfNullOrBlank</span>(<span class="ruby-identifier">name</span>, <span class="ruby-string">&quot;Name&quot;</span>);
  <span class="ruby-identifier">util</span>.<span class="ruby-identifier">throwExceptionIfNullOrBlank</span>(<span class="ruby-identifier">imagePath</span>, <span class="ruby-string">&quot;Image Path&quot;</span>);
  <span class="ruby-identifier">util</span>.<span class="ruby-identifier">throwExceptionIfNullOrBlank</span>(<span class="ruby-identifier">percentage</span>, <span class="ruby-string">&quot;Percentage&quot;</span>);
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">file</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">imagePath</span>,<span class="ruby-string">&quot;rb&quot;</span>)
    <span class="ruby-identifier">ext</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">extname</span>(<span class="ruby-identifier">file</span>)
    <span class="ruby-keyword">if</span>((<span class="ruby-identifier">ext</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;.jpg&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>) <span class="ruby-operator">&amp;&amp;</span>  (<span class="ruby-identifier">ext</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;.jpeg&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>) <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">ext</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;.gif&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>) <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">ext</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;.png&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>))
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">TypeError</span>,<span class="ruby-string">&quot;The Request parameters are invalid. Only file with extensions jpg, jpeg, gif and png are supported&quot;</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">file?</span>(<span class="ruby-identifier">imagePath</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">App42Exception</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot; File &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">imagePath</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot; does not exist&quot;</span>);
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">connection</span> = <span class="ruby-constant">App42</span><span class="ruby-operator">::</span><span class="ruby-constant">Connection</span><span class="ruby-operator">::</span><span class="ruby-constant">RESTConnection</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@base_url</span>)
    <span class="ruby-identifier">params</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-identifier">query_params</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-identifier">query_params</span> = {
      <span class="ruby-string">'apiKey'</span>=<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@api_key</span>,
      <span class="ruby-string">'version'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@version</span>,
      <span class="ruby-string">'timeStamp'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">util</span>.<span class="ruby-identifier">get_timestamp_utc</span>,
    }
    <span class="ruby-identifier">params</span> = <span class="ruby-identifier">query_params</span>.<span class="ruby-identifier">clone</span>
    <span class="ruby-identifier">post_params</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-identifier">post_params</span>.<span class="ruby-identifier">store</span>(<span class="ruby-string">&quot;name&quot;</span>, <span class="ruby-identifier">name</span>)
    <span class="ruby-identifier">post_params</span>.<span class="ruby-identifier">store</span>(<span class="ruby-string">&quot;percentage&quot;</span>, (<span class="ruby-identifier">percentage</span>.<span class="ruby-identifier">to_f</span>).<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;&quot;</span>)
    <span class="ruby-identifier">params</span> = <span class="ruby-identifier">params</span>.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">post_params</span>)
    <span class="ruby-identifier">signature</span> = <span class="ruby-identifier">util</span>.<span class="ruby-identifier">sign</span>(<span class="ruby-ivar">@secret_key</span>, <span class="ruby-identifier">params</span>)
    <span class="ruby-identifier">resource_url</span> = <span class="ruby-node">&quot;#{@version}/#{@resource}/thumbnailPercentage&quot;</span>
    <span class="ruby-identifier">response</span> = <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">imageMultipart</span>(<span class="ruby-identifier">signature</span>, <span class="ruby-identifier">resource_url</span>, <span class="ruby-identifier">query_params</span>, <span class="ruby-identifier">params</span>, <span class="ruby-identifier">imagePath</span>)
    <span class="ruby-identifier">image</span> = <span class="ruby-constant">ImageProcessorResponseBuilder</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-identifier">imageObj</span> = <span class="ruby-identifier">image</span>.<span class="ruby-identifier">buildResponse</span>(<span class="ruby-identifier">response</span>)
  <span class="ruby-keyword">rescue</span>  <span class="ruby-constant">App42Exception</span> =<span class="ruby-operator">&gt;</span><span class="ruby-identifier">e</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-identifier">e</span>
  <span class="ruby-keyword">rescue</span>  <span class="ruby-constant">Exception</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">App42Exception</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">e</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">imageObj</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- thumbnail_by_percentage-source -->
          
        </div>

        

        
      </div><!-- thumbnail_by_percentage-method -->

    
      <div id="method-i-thumbnail_by_percentage_stream" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">thumbnail_by_percentage_stream</span><span
            class="method-args">(name, imagePath, percentage)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Creates a thumbnail of the image by Percentage. There is a difference
between thumbnail and resize The thumbnail operation is optimized for speed
removes information of the image which is not necessary for a thumbnail to
reduce size e.g hearder information. Returns the original image url and
converted image url. Images are stored in the cloud and can be accessed
through the urls Resizing is done based on the width and height provided
@param name Name of the image file for which thumbnail has to be created
@param inputStream InputStream of the local file whose thumbnail has to be
created @param percentage Percentage for thumbnail @returns <a
href="Image.html">Image</a> object containing  urls for the original and
converted images @throws <a
href="../../App42Exception.html">App42Exception</a></p>
          

          
          <div class="method-source-code" id="thumbnail_by_percentage_stream-source">
            <pre><span class="ruby-comment"># File com/shephertz/app42/paas/sdk/ruby/imageProcessor/ImageProcessorService.rb, line 649</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">thumbnail_by_percentage_stream</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">imagePath</span>, <span class="ruby-identifier">percentage</span>)
  <span class="ruby-identifier">puts</span> <span class="ruby-string">&quot;thumbnailByPercentage Called &quot;</span>
  <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Base url #{@base_url}&quot;</span>
  <span class="ruby-identifier">response</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">imageObj</span> = <span class="ruby-constant">Image</span>.<span class="ruby-identifier">new</span>()
  <span class="ruby-identifier">imageObj</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">util</span> = <span class="ruby-constant">Util</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">util</span>.<span class="ruby-identifier">throwExceptionIfNullOrBlank</span>(<span class="ruby-identifier">name</span>, <span class="ruby-string">&quot;Name&quot;</span>);
  <span class="ruby-identifier">util</span>.<span class="ruby-identifier">throwExceptionIfNotValidImageExtension</span>(<span class="ruby-identifier">name</span>, <span class="ruby-string">&quot;Name&quot;</span>);
  <span class="ruby-identifier">util</span>.<span class="ruby-identifier">throwExceptionIfNullOrBlank</span>(<span class="ruby-identifier">percentage</span>, <span class="ruby-string">&quot;Percentage&quot;</span>);
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">file</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">imagePath</span>,<span class="ruby-string">&quot;rb&quot;</span>)
    <span class="ruby-identifier">ext</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">extname</span>(<span class="ruby-identifier">file</span>)
    <span class="ruby-keyword">if</span>((<span class="ruby-identifier">ext</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;.jpg&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>) <span class="ruby-operator">&amp;&amp;</span>  (<span class="ruby-identifier">ext</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;.jpeg&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>) <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">ext</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;.gif&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>) <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">ext</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;.png&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>))
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">TypeError</span>,<span class="ruby-string">&quot;The Request parameters are invalid. Only file with extensions jpg, jpeg, gif and png are supported&quot;</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">file?</span>(<span class="ruby-identifier">imagePath</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">App42Exception</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot; File &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">imagePath</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot; does not exist&quot;</span>);
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">connection</span> = <span class="ruby-constant">App42</span><span class="ruby-operator">::</span><span class="ruby-constant">Connection</span><span class="ruby-operator">::</span><span class="ruby-constant">RESTConnection</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@base_url</span>)
    <span class="ruby-identifier">query_params</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-identifier">params</span> = {
      <span class="ruby-string">'apiKey'</span>=<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@api_key</span>,
      <span class="ruby-string">'version'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@version</span>,
      <span class="ruby-string">'timeStamp'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">util</span>.<span class="ruby-identifier">get_timestamp_utc</span>,
    }
    <span class="ruby-identifier">query_params</span> = <span class="ruby-identifier">params</span>.<span class="ruby-identifier">clone</span>
    <span class="ruby-identifier">params</span>.<span class="ruby-identifier">store</span>(<span class="ruby-string">&quot;name&quot;</span>, <span class="ruby-identifier">name</span>)
    <span class="ruby-identifier">params</span>.<span class="ruby-identifier">store</span>(<span class="ruby-string">&quot;percentage&quot;</span>, (<span class="ruby-identifier">percentage</span>.<span class="ruby-identifier">to_f</span>).<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;&quot;</span>)
    <span class="ruby-identifier">signature</span> = <span class="ruby-identifier">util</span>.<span class="ruby-identifier">sign</span>(<span class="ruby-ivar">@secret_key</span>, <span class="ruby-identifier">params</span>)
    <span class="ruby-identifier">resource_url</span> = <span class="ruby-node">&quot;#{@version}/#{@resource}/thumbnailPercentage&quot;</span>
    <span class="ruby-identifier">response</span> = <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">imageMultipartStream</span>(<span class="ruby-identifier">signature</span>, <span class="ruby-identifier">resource_url</span>, <span class="ruby-identifier">query_params</span>, <span class="ruby-identifier">params</span>, <span class="ruby-identifier">imagePath</span>)
    <span class="ruby-identifier">image</span> = <span class="ruby-constant">ImageProcessorResponseBuilder</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-identifier">imageObj</span> = <span class="ruby-identifier">image</span>.<span class="ruby-identifier">buildResponse</span>(<span class="ruby-identifier">response</span>)
  <span class="ruby-keyword">rescue</span>  <span class="ruby-constant">App42Exception</span> =<span class="ruby-operator">&gt;</span><span class="ruby-identifier">e</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-identifier">e</span>
  <span class="ruby-keyword">rescue</span>  <span class="ruby-constant">Exception</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">App42Exception</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">e</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">imageObj</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- thumbnail_by_percentage_stream-source -->
          
        </div>

        

        
      </div><!-- thumbnail_by_percentage_stream-method -->

    
      <div id="method-i-thumbnail_stream" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">thumbnail_stream</span><span
            class="method-args">(name, imagePath, width, height)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Creates a thumbnail of the image. There is a difference between thumbnail
and resize The thumbnail operation is optimized for speed, it removes
information of the image which is not necessary for a thumbnail e.g hearder
information. Returns the original image url and converted image url. Images
are stored on the cloud and can be accessed through the urls Resizing is
done based on the width and height provided @param name Name of the image
file for which thumbnail has to be created @param inputStream InputStream
of the local file whose thumbnail has to be created @param width Width of
the image for thumbnail @param height Height of the image for thumbnail
@returns <a href="Image.html">Image</a> object containing urls for the
original and converted images @throws <a
href="../../App42Exception.html">App42Exception</a></p>
          

          
          <div class="method-source-code" id="thumbnail_stream-source">
            <pre><span class="ruby-comment"># File com/shephertz/app42/paas/sdk/ruby/imageProcessor/ImageProcessorService.rb, line 208</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">thumbnail_stream</span>(<span class="ruby-identifier">name</span>, <span class="ruby-identifier">imagePath</span>, <span class="ruby-identifier">width</span>, <span class="ruby-identifier">height</span>)
  <span class="ruby-identifier">puts</span> <span class="ruby-string">&quot;thumbnail Called &quot;</span>
  <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Base url #{@base_url}&quot;</span>
  <span class="ruby-identifier">response</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">imageObj</span> = <span class="ruby-constant">Image</span>.<span class="ruby-identifier">new</span>()
  <span class="ruby-identifier">imageObj</span> = <span class="ruby-keyword">nil</span>
  <span class="ruby-identifier">util</span> = <span class="ruby-constant">Util</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">util</span>.<span class="ruby-identifier">throwExceptionIfNullOrBlank</span>(<span class="ruby-identifier">name</span>, <span class="ruby-string">&quot;Name&quot;</span>);
  <span class="ruby-identifier">util</span>.<span class="ruby-identifier">throwExceptionIfNotValidImageExtension</span>(<span class="ruby-identifier">name</span>, <span class="ruby-string">&quot;Name&quot;</span>);
  <span class="ruby-identifier">util</span>.<span class="ruby-identifier">throwExceptionIfNullOrBlank</span>(<span class="ruby-identifier">width</span>, <span class="ruby-string">&quot;Width&quot;</span>);
  <span class="ruby-identifier">util</span>.<span class="ruby-identifier">throwExceptionIfNullOrBlank</span>(<span class="ruby-identifier">height</span>, <span class="ruby-string">&quot;Height&quot;</span>);
  <span class="ruby-keyword">begin</span>
    <span class="ruby-identifier">file</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">imagePath</span>,<span class="ruby-string">&quot;rb&quot;</span>)
    <span class="ruby-identifier">ext</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">extname</span>(<span class="ruby-identifier">file</span>)
    <span class="ruby-keyword">if</span>((<span class="ruby-identifier">ext</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;.jpg&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>) <span class="ruby-operator">&amp;&amp;</span>  (<span class="ruby-identifier">ext</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;.jpeg&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>) <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">ext</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;.gif&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>) <span class="ruby-operator">&amp;&amp;</span> (<span class="ruby-identifier">ext</span>.<span class="ruby-identifier">eql?</span>(<span class="ruby-string">&quot;.png&quot;</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>))
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">TypeError</span>,<span class="ruby-string">&quot;The Request parameters are invalid. Only file with extensions jpg, jpeg, gif and png are supported&quot;</span>
    <span class="ruby-keyword">end</span>
    <span class="ruby-keyword">if</span> <span class="ruby-constant">File</span>.<span class="ruby-identifier">file?</span>(<span class="ruby-identifier">imagePath</span>) <span class="ruby-operator">==</span> <span class="ruby-keyword">false</span>
      <span class="ruby-identifier">raise</span> <span class="ruby-constant">App42Exception</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot; File &quot;</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">imagePath</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot; does not exist&quot;</span>);
    <span class="ruby-keyword">end</span>
    <span class="ruby-identifier">connection</span> = <span class="ruby-constant">App42</span><span class="ruby-operator">::</span><span class="ruby-constant">Connection</span><span class="ruby-operator">::</span><span class="ruby-constant">RESTConnection</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@base_url</span>)
    <span class="ruby-identifier">query_params</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-identifier">params</span> = {
      <span class="ruby-string">'apiKey'</span>=<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@api_key</span>,
      <span class="ruby-string">'version'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@version</span>,
      <span class="ruby-string">'timeStamp'</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">util</span>.<span class="ruby-identifier">get_timestamp_utc</span>,
    }
    <span class="ruby-identifier">query_params</span> = <span class="ruby-identifier">params</span>.<span class="ruby-identifier">clone</span>
    <span class="ruby-identifier">params</span>.<span class="ruby-identifier">store</span>(<span class="ruby-string">&quot;name&quot;</span>, <span class="ruby-identifier">name</span>)
    <span class="ruby-identifier">params</span>.<span class="ruby-identifier">store</span>(<span class="ruby-string">&quot;width&quot;</span>, <span class="ruby-identifier">width</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;&quot;</span>)
    <span class="ruby-identifier">params</span>.<span class="ruby-identifier">store</span>(<span class="ruby-string">&quot;height&quot;</span>, <span class="ruby-identifier">height</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">+</span> <span class="ruby-string">&quot;&quot;</span>)
    <span class="ruby-identifier">signature</span> = <span class="ruby-identifier">util</span>.<span class="ruby-identifier">sign</span>(<span class="ruby-ivar">@secret_key</span>, <span class="ruby-identifier">params</span>)
    <span class="ruby-identifier">resource_url</span> = <span class="ruby-node">&quot;#{@version}/#{@resource}/thumbnail&quot;</span>
    <span class="ruby-identifier">response</span> = <span class="ruby-identifier">connection</span>.<span class="ruby-identifier">imageMultipartStream</span>(<span class="ruby-identifier">signature</span>, <span class="ruby-identifier">resource_url</span>, <span class="ruby-identifier">query_params</span>, <span class="ruby-identifier">params</span>, <span class="ruby-identifier">imagePath</span>)
    <span class="ruby-identifier">image</span> = <span class="ruby-constant">ImageProcessorResponseBuilder</span>.<span class="ruby-identifier">new</span>
    <span class="ruby-identifier">imageObj</span> = <span class="ruby-identifier">image</span>.<span class="ruby-identifier">buildResponse</span>(<span class="ruby-identifier">response</span>)
  <span class="ruby-keyword">rescue</span>  <span class="ruby-constant">App42Exception</span> =<span class="ruby-operator">&gt;</span><span class="ruby-identifier">e</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-identifier">e</span>
  <span class="ruby-keyword">rescue</span>  <span class="ruby-constant">Exception</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-identifier">e</span>
    <span class="ruby-identifier">raise</span> <span class="ruby-constant">App42Exception</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">e</span>)
  <span class="ruby-keyword">end</span>
  <span class="ruby-keyword">return</span> <span class="ruby-identifier">imageObj</span>
<span class="ruby-keyword">end</span></pre>
          </div><!-- thumbnail_stream-source -->
          
        </div>

        

        
      </div><!-- thumbnail_stream-method -->

    
    </section><!-- public-instance-method-details -->
  
  </section><!-- 5Buntitled-5D -->

</div><!-- documentation -->


<footer id="validator-badges">
  <p><a href="http://validator.w3.org/check/referer">[Validate]</a>
  <p>Generated by <a href="https://github.com/rdoc/rdoc">RDoc</a> 3.12.
  <p>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish Rdoc Generator</a> 3.
</footer>

